# EntPB

Generate [*Proto Buffer*](https://protobuf.dev) definitions and [*gRPC*](https://grpc.io) service implementation from [*Ent*](https://entgo.io) graph.

## Usage

...

## Development

### Generate *Proto* Definitions

```sh
go run ./internal/example/gen
```

Following *proto* definitions are generated:
- [internal/example/protos/edition_2023](internal/example/protos/edition_2023)
- [internal/example/protos/syntax_proto3](internal/example/protos/syntax_proto3)

### Generate Codes

```sh
go install ./cmd/protoc-gen-entpb && \
./scripts/gen-protos.sh
```

Following codes are generated:
- [internal/example/ent](internal/example/ent)

	Generated by *Ent* to interact with the DB.
	
- [internal/example/pb](internal/example/pb)

	Message definitions and *gRPC* service interfaces generated by `protoc-gen-go` and `protoc-gen-go-grpc`.

- [internal/example/bare](internal/example/bare)

	Bare implementation of *gRPC* service generated by [`cmd/protoc-gen-entpb`](cmd/protoc-gen-entpb).

- [internal/example/gw](internal/example/gw)

	REST API gateway implementation generated by [`protoc-gen-grpc-gateway`](https://github.com/grpc-ecosystem/grpc-gateway).

- [internal/example/openapiv2](internal/example/openapiv2)

	OpenAPI definitions generated by [`protoc-gen-openpiv2`](https://github.com/grpc-ecosystem/grpc-gateway).
